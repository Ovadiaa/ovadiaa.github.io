<!doctype html>
<html lang="he">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover"/>
<title>בריחה מהתנועה — משחק</title>
<style>
  :root{
    --bg:#202428;
    --road:#2b2f33;
    --line:#dcdcdc;
    --accent:#ffcc00;
    --text:#e9eef2;
  }
  html,body{height:100%;margin:0;font-family:Arial,Helvetica,sans-serif; background:linear-gradient(#0b1220,#16202a);}
  .container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:12px;box-sizing:border-box;}
  canvas{background: radial-gradient(circle at 50% 20%, #3b3f45 0%, #232529 50%); border-radius:12px; touch-action: none; display:block; max-width:100%; height:auto; box-shadow:0 8px 30px rgba(0,0,0,0.6);}
  .hud{width:100%;max-width:520px;margin-top:10px;display:flex;justify-content:space-between;align-items:center;color:var(--text);}
  .btn{background:var(--accent);padding:8px 12px;border-radius:8px;color:#111;font-weight:700;border:none;cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,0.25);}
  .small{font-size:0.9rem;color:#bfc6cc}
  .controls{width:100%;max-width:520px;margin-top:8px;display:flex;justify-content:space-between;gap:10px;}
  .touchBtn{flex:1;padding:14px;border-radius:10px;background:rgba(255,255,255,0.06);color:var(--text);text-align:center;user-select:none}
  .centerNote{font-size:0.85rem;color:#cbd5da;margin-top:8px;}
  /* Game over overlay */
  .overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;}
  .panel{background:linear-gradient(180deg, rgba(15,20,23,0.95), rgba(12,16,19,0.95));border-radius:14px;padding:18px 20px;color:var(--text);box-shadow:0 10px 40px rgba(0,0,0,0.6);max-width:90%;text-align:center;pointer-events:auto}
  .panel h2{margin:0 0 8px}
  .panel p{margin:6px 0}
</style>
</head>
<body>
<div class="container">
  <canvas id="game" width="360" height="640" aria-label="משחק בריחה מהתנועה"></canvas>

  <div class="hud" id="hud">
    <div>
      <div style="font-weight:700">נקודות: <span id="score">0</span></div>
      <div class="small">מהירות: <span id="speedLabel">1</span></div>
    </div>
    <div style="text-align:right">
      <button class="btn" id="restartBtn">התחל/אפס</button>
      <div class="small" style="margin-top:6px">הקש שמאל/ימין או השתמש בכפתורים למטה</div>
    </div>
  </div>

  <div class="controls" id="touchControls" style="max-width:520px;">
    <div class="touchBtn" id="leftBtn">⬅️ שמאל</div>
    <div class="touchBtn" id="brakeBtn">⏸️ עצירה</div>
    <div class="touchBtn" id="rightBtn">ימין ➡️</div>
  </div>

  <div class="centerNote">★ אסוף כוכבים כדי לקבל ניקוד נוסף • הימנע ממכוניות נוספות</div>
</div>

<!-- Overlay for Game Over -->
<div id="overlay" class="overlay" style="display:none;">
  <div class="panel" id="panel">
    <h2 id="panelTitle">המשחק נגמר</h2>
    <p id="panelText">ניקוד סופי: <span id="finalScore">0</span></p>
    <p class="small">הקש על התחל כדי לשחק שוב</p>
    <div style="margin-top:10px">
      <button class="btn" id="panelRestart">שחק שוב</button>
    </div>
  </div>
</div>

<script>
// JavaScript game logic here — omitted for brevity
</script>
</body>
</html>
